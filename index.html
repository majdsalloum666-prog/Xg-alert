<!DOCTYPE html>
<html lang="ar">
<head>
  <meta charset="UTF-8">
  <title>xG Alert</title>

  <style>
    body {
      font-family: Arial, sans-serif;
      text-align: center;
      padding-top: 30px;
    }

    #enableSoundBtn {
      font-size: 18px;
      padding: 10px 20px;
      margin-bottom: 20px;
    }

    #alertBox {
      display: none;
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,0.9);
      color: #fff;
      z-index: 9999;
      align-items: center;
      justify-content: center;
      flex-direction: column;
    }

    #alertBox h1 { font-size: 26px; }
    #alertBox p { font-size: 18px; white-space: pre-line; }

    #closeBtn {
      margin-top: 20px;
      font-size: 18px;
      padding: 8px 20px;
    }
  </style>
</head>

<body>

<h2>xG Alert</h2>
<p>ØªÙ†Ø¨ÙŠÙ‡ ØªÙ„Ù‚Ø§Ø¦ÙŠ Ø¹Ù†Ø¯ Ø¶ØºØ· Ù‡Ø¬ÙˆÙ…ÙŠ Ù‚ÙˆÙŠ</p>

<button id="enableSoundBtn">ğŸ”Š ØªÙØ¹ÙŠÙ„ Ø§Ù„ØµÙˆØª (Ø§Ø¶ØºØ· Ø¨Ø¹Ø¯ ÙØªØ­ Ø§Ù„ØµÙØ­Ø©)</button>

<div id="alertBox">
  <h1>âš½ xG ALERT</h1>
  <p id="alertText"></p>
  <button id="closeBtn">Ø¥ØºÙ„Ø§Ù‚</button>
</div>

<audio id="alarmSound">
  <source src="https://actions.google.com/sounds/v1/alarms/alarm_clock.ogg">
</audio>

<script>
  let alerted = false;
  let soundEnabled = false;

  const sound = document.getElementById("alarmSound");
  const alertBox = document.getElementById("alertBox");
  const alertText = document.getElementById("alertText");
  const enableSoundBtn = document.getElementById("enableSoundBtn");

  // ÙŠØ¬Ø¨ Ø§Ù„Ø¶ØºØ· Ø¹Ù„ÙŠÙ‡ Ø¨Ø¹Ø¯ ÙƒÙ„ ÙØªØ­ ØµÙØ­Ø©
  enableSoundBtn.onclick = () => {
    sound.play().then(() => {
      sound.pause();
      sound.currentTime = 0;
      soundEnabled = true;
      alert("âœ… Ø§Ù„ØµÙˆØª Ù…ÙØ¹Ù‘Ù„ Ù„Ù‡Ø°Ù‡ Ø§Ù„Ø¬Ù„Ø³Ø©");
    });
  };

  // Ø¨ÙŠØ§Ù†Ø§Øª ØªØ¬Ø±ÙŠØ¨ÙŠØ©
  let minute = 32;
  let shotsOnTargetHome = 4;
  let shotsOnTargetAway = 3;
  let dangerousAttacksHome = 38;
  let dangerousAttacksAway = 31;

  function calculateXG(shotsOnTarget, dangerousAttacks) {
    return (shotsOnTarget * 0.35) + (dangerousAttacks / 25);
  }

  function checkMatch() {
    const xgHome = calculateXG(shotsOnTargetHome, dangerousAttacksHome);
    const xgAway = calculateXG(shotsOnTargetAway, dangerousAttacksAway);
    const totalXG = xgHome + xgAway;

    if (!alerted && minute >= 30 && totalXG >= 1.5) {
      alerted = true;

      alertText.innerText =
        `Ø§Ù„Ø¯Ù‚ÙŠÙ‚Ø©: ${minute}\n` +
        `xG Ø§Ù„ÙØ±ÙŠÙ‚ Ø§Ù„Ø£ÙˆÙ„: ${xgHome.toFixed(2)}\n` +
        `xG Ø§Ù„ÙØ±ÙŠÙ‚ Ø§Ù„Ø«Ø§Ù†ÙŠ: ${xgAway.toFixed(2)}\n` +
        `xG Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ: ${totalXG.toFixed(2)}`;

      alertBox.style.display = "flex";

      if (soundEnabled) {
        sound.play();
      }
    }
  }

  setTimeout(checkMatch, 4000);

  document.getElementById("closeBtn").onclick = () => {
    alertBox.style.display = "none";
    sound.pause();
    sound.currentTime = 0;
  };
</script>

</body>
</html>
